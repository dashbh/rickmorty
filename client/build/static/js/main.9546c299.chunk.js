(this["webpackJsonprick-morty-client"]=this["webpackJsonprick-morty-client"]||[]).push([[0],{64:function(e,n,t){e.exports=t(94)},69:function(e,n,t){},94:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(52),l=t.n(c),u=(t(69),t(34)),o=t(23),i=t(19),s=t(20),m=t(21),d=t(22),p=t(97),f=t(6),h=t(31);function g(){var e=Object(f.a)(['\nquery Character(\n  $species: String = "",\n  $gender: String = "",\n  $name: String = "") \n{\n  characters(species: $species,\n    gender: $gender,\n    name: $name)\n  {\n    id\n    name\n    status\n    species\n    gender\n    image,\n    location {\n      name\n    }\n    origin {\n      name\n    }\n  }\n}']);return g=function(){return e},e}var v=t.n(h)()(g()),b=t(7);function E(){var e=Object(f.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n    background: rgb(32, 35, 41);\n"]);return E=function(){return e},e}function y(){var e=Object(f.a)(["\n    flex-grow: 1;\n    width: 70%;\n"]);return y=function(){return e},e}function w(){var e=Object(f.a)(["\n    width: 100%;\n    margin: 0 20px 0 0;\n    @media (min-width: 768px) {\n        max-width: 25%;\n    }\n"]);return w=function(){return e},e}var O=b.a.aside(w()),j=b.a.main(y()),k=b.a.div(E()),x=t(56),S=t.n(x);function C(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 10px 0;\n\n    span {\n        font-size: 0.7rem;\n        color: #9e9e9e;\n    }\n    p {\n        width: 100%;\n        font-size: 0.9rem;\n        font-weight: 200;\n        text-align: right;\n        margin: 0;\n    }\n"]);return C=function(){return e},e}function N(){var e=Object(f.a)(["\n    color: rgb(255, 152, 0);\n    padding: 10px 1rem;\n    background: rgb(51, 51, 51);\n    height: 200px\n"]);return N=function(){return e},e}function q(){var e=Object(f.a)(["\n    color: rgb(187, 187, 187);\n    margin: 0;\n"]);return q=function(){return e},e}function I(){var e=Object(f.a)(["\n    font-weight: bold;\n    color: rgb(245, 245, 245);\n    margin: 0;\n"]);return I=function(){return e},e}function R(){var e=Object(f.a)(["\n    width: 100%;\n    opacity: 0.8;\n    position: absolute;\n    bottom: 0px;\n    background: rgb(32, 35, 41);\n    padding: 0.625rem;\n"]);return R=function(){return e},e}function A(){var e=Object(f.a)(["\n    width: 100%;\n    background: #202329;\n"]);return A=function(){return e},e}function F(){var e=Object(f.a)(["\n    position: relative;\n    overflow: hidden;\n"]);return F=function(){return e},e}function U(){var e=Object(f.a)(["\n    width: 100%;\n    @media (min-width: 768px) {\n        width: 30%;\n    }\n    margin: 25px 0;\n    position: relative;\n    border-radius: 0.5rem;\n"]);return U=function(){return e},e}var L=b.a.div(U()),P=b.a.div(F()),D=b.a.div(A()),$=b.a.div(R()),T=b.a.h2(I()),G=b.a.p(q()),B=b.a.div(N()),M=b.a.div(C()),W=function(e){var n=e.charecter;return r.a.createElement(L,null,r.a.createElement(P,null,r.a.createElement(D,null,r.a.createElement("img",{src:n.image,alt:n.name})),r.a.createElement($,null,r.a.createElement(T,null,n.name),r.a.createElement(G,null,"id:",n.id," ","- created\xa0",S()().diff(n.created,"years")," ","years ago"))),r.a.createElement(B,null,r.a.createElement(M,null,r.a.createElement("span",null,"STATUS"),r.a.createElement("p",null,n.status)),r.a.createElement(M,null,r.a.createElement("span",null,"SPECIES"),r.a.createElement("p",null,n.species)),r.a.createElement(M,null,r.a.createElement("span",null,"GENDER"),r.a.createElement("p",null,n.gender)),r.a.createElement(M,null,r.a.createElement("span",null,"ORIGIN"),r.a.createElement("p",null,n.origin.name)),r.a.createElement(M,null,r.a.createElement("span",null,"LAST LOCATION"),r.a.createElement("p",null,n.location.name))))};function _(){var e=Object(f.a)(["\n    display: block;\n"]);return _=function(){return e},e}function J(){var e=Object(f.a)(["\n    display: block;\n"]);return J=function(){return e},e}function z(){var e=Object(f.a)(["\n    display: flex;\n    margin: 5px 0;\n    justify-content: space-between\n"]);return z=function(){return e},e}var H=b.a.div(z()),K=b.a.div(J()),Q=b.a.div(_()),V=function(e){var n=Object(a.useState)(""),t=Object(u.a)(n,2),c=t[0],l=t[1];return r.a.createElement(H,null,r.a.createElement(K,null,r.a.createElement("label",{htmlFor:"search"},"Search By Name"),"\xa0",r.a.createElement("input",{type:"text",name:"search",id:"search",onChange:function(e){return l(e.target.value)}}),r.a.createElement("button",{type:"button",className:"button",onClick:function(){return e.onSearch(c)}},"Search")),r.a.createElement(Q,null,r.a.createElement("label",{htmlFor:""},"Sort By ID"),"\xa0",r.a.createElement("select",{id:"sort",onChange:function(n){return e.onSort(n.target.value)}},r.a.createElement("option",{value:"ASC"},"Ascending"),r.a.createElement("option",{value:"DSC"},"Descending"))))};function X(){var e=Object(f.a)(["\n    padding: 5px 0;\n"]);return X=function(){return e},e}function Y(){var e=Object(f.a)(["\n    padding: 10px;\n    border: 1px solid #ccc;\n    margin-bottom: 20px;\n"]);return Y=function(){return e},e}var Z=b.a.div(Y()),ee=b.a.div(X()),ne={species:{label:"Species",options:[{key:4,text:"Human",value:"Human"},{key:6,text:"Alien",value:"Alien"},{key:8,text:"Unknown",value:"unknown"}]},gender:{label:"Gender",options:[{key:1,text:"Female",value:"Female"},{key:2,text:"Male",value:"Male"},{key:3,text:"Genderless",value:"Genderless"},{key:4,text:"Unknown",value:"unknown"}]}},te=function(e){Object(d.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(i.a)(this,t),(a=n.call(this,e)).onToggle=function(e,n){var t=a.state.filters,r=a.props.onFilter,c=t[n]?t[n]:[];e.target.checked?(c.push(e.target.value),t[n]=c):t[n]=c.filter((function(n){return n!==e.target.value})),a.setState({filters:Object(o.a)({},t)});var l={};for(var u in t)l[u]=t[u].join(",");r(l)},a.state={filters:{},filterOptions:ne},a}return Object(s.a)(t,[{key:"render",value:function(){var e=this,n=this.state.filterOptions;return r.a.createElement("div",null,r.a.createElement("h2",null,"Filters"),Object.keys(n).map((function(t){return r.a.createElement(Z,{key:t},r.a.createElement("h3",null,n[t].label),n[t].options.map((function(n){return r.a.createElement(ee,{key:"".concat(t,"_").concat(n.key)},r.a.createElement("input",{type:"checkbox",id:"".concat(t,"_").concat(n.key),"data-testid":"".concat(t,"_").concat(n.key),value:n.value,onChange:function(n){return e.onToggle(n,t)}}),r.a.createElement("label",{htmlFor:"".concat(t,"_").concat(n.key)},n.text))})))})))}}]),t}(r.a.PureComponent),ae=function(e){Object(d.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(i.a)(this,t),(a=n.call(this,e)).getCharecters=function(e){var n=e.characters;if(n)switch(a.state.sort){case"ASC":n=n.sort((function(e,n){return parseInt(e.id)-parseInt(n.id)}));break;case"DSC":n=n.sort((function(e,n){return parseInt(n.id)-parseInt(e.id)}));break;default:n=n.sort((function(e,n){return parseInt(e.id)-parseInt(n.id)}))}return n},a.handleSearch=function(e){var n=a.state.query.filter;a.setState({query:{filter:Object(o.a)({},n,{name:e})}})},a.handleSort=function(e){a.setState({sort:e})},a.handleFilter=function(e){a.setState({query:{filter:e}})},a.state={query:{filter:{species:"",gender:"",name:""}},sort:""},a}return Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null,r.a.createElement(te,{onFilter:this.handleFilter})),r.a.createElement(j,null,r.a.createElement(V,{onSearch:this.handleSearch,onSort:this.handleSort}),r.a.createElement(p.a,{query:v,variables:{species:this.state.query.filter.species,gender:this.state.query.filter.gender,name:this.state.query.filter.name}},(function(n){var t=n.loading,a=n.error,c=n.data;if(t)return r.a.createElement("div",null,"Loading...");if(a)return r.a.createElement("h1",null,"ERROR !");var l=e.getCharecters(c);return r.a.createElement(k,null,l.map((function(e){return r.a.createElement(W,{key:e.id,charecter:e})})))}))))}}]),t}(r.a.Component),re=t(62),ce=t(9),le=t(18),ue=t(8);function oe(){var e=Object(f.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px;\n"]);return oe=function(){return e},e}function ie(){var e=Object(f.a)(["\n    text-align: center;\n"]);return ie=function(){return e},e}var se=b.a.h1(ie()),me=b.a.div(oe()),de=t(63),pe=function(e){var n=e.component,t=Object(de.a)(e,["component"]);return r.a.createElement(ue.b,Object.assign({},t,{render:function(e){return localStorage.getItem("user")?r.a.createElement(n,e):r.a.createElement(ue.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},fe=t(24),he=function(e){Object(d.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(i.a)(this,t),(a=n.call(this,e)).handleChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(fe.a)({},t,r))},a.handleSubmit=function(e,n){e.preventDefault(),n.handleLogin({username:a.state.username,password:a.state.password})},a.state={username:"",password:"",submitted:!1},a}return Object(s.a)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.password;n.redirect;return r.a.createElement(ke.Consumer,null,(function(n){return r.a.createElement("div",{className:"container loginWrapper"},n.isAuth?r.a.createElement(ue.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Login"),r.a.createElement("form",{name:"form",onSubmit:function(t){return e.handleSubmit(t,n)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{required:!0,type:"text",name:"username",value:t,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{required:!0,type:"password",name:"password",value:a,onChange:e.handleChange})),r.a.createElement("div",{className:"form-action"},r.a.createElement("button",{type:"submit",className:"button"},"Login"),r.a.createElement(le.b,{to:"/register"},"Register"))),n.isAuth&&r.a.createElement("span",null,"Authenticated")))}))}}]),t}(r.a.Component),ge=function(e){Object(d.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(i.a)(this,t),(a=n.call(this,e)).handleChange=function(e){var n=e.target,t=n.name,r=n.value;a.setState(Object(fe.a)({},t,r))},a.handleSubmit=function(e,n){e.preventDefault(),n.handleRegister({username:a.state.username,password:a.state.password}),console.log("User Registred Successfully !!")},a.state={username:"",password:"",confPassword:"",submitted:!1},a}return Object(s.a)(t,[{key:"render",value:function(){var e=this,n=this.state,t=n.username,a=n.password,c=n.confPassword;return r.a.createElement(ke.Consumer,null,(function(n){return r.a.createElement("div",{className:"container loginWrapper"},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{name:"form",onSubmit:function(t){return e.handleSubmit(t,n)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{required:!0,type:"text",name:"username",value:t,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{required:!0,type:"password",name:"password",value:a,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm"),r.a.createElement("input",{required:!0,type:"password",name:"confPassword",value:c,onChange:e.handleChange})),r.a.createElement("div",{className:"form-action"},r.a.createElement("button",{type:"submit",className:"button"},"Register"),r.a.createElement(le.b,{to:"/login"},"Login"))))}))}}]),t}(r.a.Component),ve=t(29),be=t.n(ve),Ee=t(39),ye=t(40),we=t.n(ye),Oe={login:function(){var e=Object(Ee.a)(be.a.mark((function e(n){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we()({method:"post",baseURL:"".concat("/api","/user/login"),timeout:5e3,data:n});case 3:return t=e.sent,localStorage.setItem("user",JSON.stringify(t)),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",{status:e.t0.response.status,error:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),register:function(){var e=Object(Ee.a)(be.a.mark((function e(n){var t;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we()({method:"post",baseURL:"".concat("/api","/user/signup"),timeout:5e3,data:n});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",{status:e.t0.response.status,error:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()},je=new re.a({uri:"/api/graphql"}),ke=r.a.createContext({}),xe={isAuth:!1},Se=function(e,n){switch(n.type){case"loginUser":return Object(o.a)({},e,{auth:n.payload.token,name:n.payload.user,isAuth:!0});case"logoutUser":return Object(o.a)({},e,{auth:"",name:"",isAuth:!1});default:return e}},Ce=function(e){var n=r.a.useReducer(Se,xe),t=Object(u.a)(n,2),a=t[0],c=t[1];return r.a.createElement(ke.Provider,{value:Object(o.a)({},a,{handleLogin:function(e){return Oe.login(e).then((function(e){c({type:"loginUser",payload:{auth:e.token,user:e.user}})}))},handleRegister:function(e){return Oe.register(e)},handleLogout:function(){localStorage.removeItem("user"),c({type:"logoutUser"})}})},e.children)};var Ne=function(){return r.a.createElement(ce.a,{client:je},r.a.createElement("header",null,r.a.createElement(se,null,"Rick & Morty")),r.a.createElement(me,null,r.a.createElement(Ce,null,r.a.createElement(le.a,null,r.a.createElement(ue.d,null,r.a.createElement(pe,{exact:!0,path:"/",component:ae}),r.a.createElement(ue.b,{path:"/login",component:he}),r.a.createElement(ue.b,{path:"/register",component:ge}),r.a.createElement(ue.a,{from:"*",to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.9546c299.chunk.js.map